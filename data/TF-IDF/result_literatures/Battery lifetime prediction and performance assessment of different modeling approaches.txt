In this work, a comprehensive aging dataset of nickel-manganese-cobalt oxide (NMC) cell is used to develop and/or train different capacity fade models to compare output responses. The assessment is conducted for semi-empirical modeling (SeM) approach against a machine learning model and an artificial neural network model. Among all, the nonlinear autoregressive network (NARXnet) can predict the capacity degradation most precisely minimizing the computational effort as well. This research work signifies the importance of lifetime methodological choice and model performance in understanding the complex and nonlinear Liion battery aging behavior.
Battery life has been a crucial subject of investigation since its introduction to the commercial vehicle, during which different Li-ion batteries are cycled and/or stored to identify the degradation mechanisms separately (Ka¨bitz et al., 2013; Ecker et al., 2014) or together. Most commonly laboratory-level tests are performed to understand the battery aging behavior under different operating conditions, and then the generated data are either fed or used to develop lifetime models.
The performance-based predictive models are often built with fitting mathematical equations or trained with advanced algorithms such as machine learning (ML), etc. (Berecibar et al., 2016; Li et al., 2019). These different modeling approaches can forecast the whole life in terms of battery capacity fade and/or IR growth (Jafari et al., 2018; Hu et al., 2020). However, the model performance heavily relies on the quality and quantity of the investigated dataset and the selection of the modeling methodology.
On the contrary, battery physics-based models can identify the loss of lithium inventory and active materials by analyzing the key degradation mechanisms such as solid-electrolyte interphase, lithium plating, etc.
In this research work, model development and assessment are investigated focusing on the less complex and performance-based methodologies, which include the semi-empirical approach and ML algorithms. The objective is to evaluate the developed data-driven model methodologies that are constructed from a commercial cell aging dataset and can be implemented in real life.
Performance-dependent semi-empirical aging models based on characteristic results are usually developed and parameterized from long-term lifetime tests (Omar et al., 2014) or accelerated tests (Ecker et al., 2012). An extensive range of investigation covering crucial cycling parameters of temperature, depth of discharge (DoD), state of charge (SoC), charge-discharge rate (C-rate), ampere-hour throughput, cycle number, etc., and calendar life conditions of storage temperature, storage SoC, storage duration, etc., are often used to characterize the battery lifetime (Dai et al., 2013; Su et al., 2016; Ecker et al., 2017). 
The performance of the constructed model is then evaluated with regular cycling or real-life profiles, i.e., worldwide harmonized light-duty test cycle (WLTC) by comparing the simulated capacity and power fade against actual measurement (Suri and Onori, 2016; de Hoog et al., 2018; Li et al., 2018). The crucial limitation of semi-empirical aging models is the prediction accuracy, while the fitting response on unknown profiles depends on the quality of the generated dataset. Moreover, the operating conditions of the investigated data act as an optimal boundary criterion of this methodology beyond which the prediction response accuracy is compromised.
Among the data-driven models support vector machine, regression algorithms, ensembled models, etc., are regularly used in the field of battery aging (Nuhic et al., 2013; Xing et al., 2013; Liu et al., 2019). 
However, ANN is not employed in the full battery life prediction without initial data. One of the promising ANN networks as nonlinear autoregressive with exogenous input (NARX) is considered to be quite accurate for dynamic systems and has been used to develop battery degradation models (Hussein, 2015; Member and Ibe-ekeocha, 2017).
Although using advanced modeling techniques may improve predictive model accuracy, the selection of a suitable algorithm is not straightforward especially for a complex nonlinear system like batteries.
Furthermore, the rationalization of the performance of different models and algorithms is impractical unless identical training data are utilized. One of the most common and free datasets is provided by NASA Ames Prognostic Center of Excellence (Saha and Goebel, 2007), which has been regularly used by researchers for battery health prognosis (Cheng et al., 2015; Wang and Mamo, 2018; Wang et al., 2019). In lifetime modeling, public data repositories (Severson et al., 2019) and data from European projects (Batteries2020) (de Hoog et al., 2017) are considered to model the cycle life in separate literature (Zhu et al., 2019;
Lucu et al., 2020). 
Thus, developing different model types by using a single dataset and a specific set of stress factors is a rare and challenging task that can facilitate a proper model performance comparison.
In this research work, the authors have developed a neural network (NARX) model and adapted their developed semi-empirical (SeM) and data-driven (GPR) models using an in-house-generated comprehensive dataset of 40 nickel-manganese-cobalt oxide (NMC) cells. The novel comparison of different performancebased models constructing all of them from a single dataset is done for the first time. The detailed model assessment can clarify the choice of different modeling methodologies helping the original equipment manufacturers to implement the most suitable approaches.
The results indicate that the capacity decay is significantly dependent on the cycling temperature (cell surface) irrespective of the relaxation temperature. The aging is also affected by the storage SoC especially at room temperature. The authors have thoroughly investigated all the crucial impact factors and have identified the following parameters that contribute to the total capacity fade.
The polynomials are represented by Arrhenius equation and the fitting equations relating the calendar life capacity fade to the function of the temperature, SoC, and time. The Arrhenius equation is used to fit the relaxation data to identify the aging rate.
These events are then processed by different influential scripts quantifying the resultant capacity drop. 
For the investigated dataset, the additional relaxation phases are input to the calendar life model so that the total capacity fade can include all the considerable aspects. In this methodology, a theoretical pure cycling capacity fade can be quantified by subtracting the calendar life results from total degradation as the latter includes calendar life impact during cycling as well. MATLAB platform is used to develop the robust model with several ensembled scripts.
The GPR is a Bayesian probabilistic ML method (Rasmussen, 2003) that has recently been used in lifetime prognosis due to its flexible and non-parametric nature (Liu et al., 2020; Lucu et al., 2020). The highly nonlinear battery behavior during lifetime is sensitive to GPR performance; however, a suitable kernel and high-quality data could confirm stable response resulting in lower prediction error. The authors employed several different kernels to train the dataset and found the exponential kernel to be the best fit, thus it has been implemented to construct the robust lifetime model using the GPR. 
Under this framework, the NARXnet is trained with the same eight input parameters (used in the GPR model training) by a training algorithm. Levenberg-Marquardt (LM) is used in this case as it requires less memory meaning very low computational effort. Compared with LM, Bayesian Regularization trains the model in 44 s providing a slight improvement in the performance. Ten hidden neurons are used in the NARXnet and the training, validation, and testing percentile of data are used as 90%, and 5% each, respectively. The validation data is used to evaluate the network generalization, and when it stops improving the training is stopped.
As a rule of thumb, any aging model should only be termed as validated when the model prediction is compared with a set of unknown inputs and results. The validation or the testing of the model performance ideally needs to be performed on a completely separate cell based on laboratory-level static or realistic dynamic conditions. In this work, long-term aging tests are designed for the validation of the developed models. Two separate cells are studied with the validation profiles as explained in the experimental section, whereas the rest of the 38 cells’ aging outputs are used to construct or train the developed models. In the following sections, the validation results are reported by the profile types (WLTC or static) and the assessment is done based on different performance criteria.
The semi-empirical model (SeM), the data-driven GPR, and the advanced NARXnet models are validated with the designed WLTC profile, which is based on a real-life scenario as explained in the ‘‘Data generation’’ section. The dynamic currents are fed to the SeM model to simulate the life until the capacity fade reaches the EoL criterion (SoH<75%). The cycle life and calendar life scripts of the model (as shown in Figure 3) analyze the split current of load and non-load situations, respectively, and process the parameterized conditions based on mathematical equations.
However, in the case of data-driven models, the number of WLTC cycles needs to be readjusted because the training data includes the conditional number (as per the test matrix) of cycles. Authors have found a relationship between the capacity fade rate and the IR growth for dynamic WLTC cycling.
The model can be further improved with more fundamental battery characteristic (i.e., direct voltage, IR measurement, etc.) inputs to capture the EoL trend.
The advanced NARXnet model has shown the best performance when it is validated against the dynamic WLTC cycles. A second-order polynomial fitting is used at first to generate test data points by interpolating the number of WLTC rounds. These calculated data points (as named) are then tested with the trained NARX model, and a precise 0.01 RMSE value is achieved. Figure 8 clearly shows the edge of the NARX model over the other models. The black box-type NARX model shows the capability of capturing the uncertain dynamicity of the investigated battery cell at EoL that other models could not.
All the compared models can be used as an online prognosis tool implemented in the battery management system. However, the simplicity of SeM puts it ahead of other complex models in this regard. The number of processed parameters plays a major role, which requires memory and computational considerations, especially for model training. The trained ML models based on historical data can continuously improve by learning from the real-life information if implemented in the local device or via cloud simulation. However, the implementation cost, communication systems, computational delay, etc., are the crucial challenges that need to be compromised to get the accurate battery states (SoC, lifetime). On the contrary, fewer input parameters make SeM an undemanding choice with a higher RMSE error.
when there are varieties of Li-ion battery chemistries available of different properties. The highly nonlinear characteristics of these batteries are the main obstacle to achieving a universal lifetime model. Both the technology-specific electrochemical models and performance-fitted SeMs are defined to follow a particular degradation path. Thus, advanced algorithms and self-learning models can be a solution to future lifetime modeling compromising the cost and computational effort. Hence, further material development can also restrict nonlinearity meaning that a simple model like SeM can be implemented with high accuracy.
It has been found that the data-driven models are more accurate than the SeM. 
The NARX model is the most precise with a 0.01 RMSE when validated with a WLTC profile requiring less than a second for training. On the other hand, the SeM is the simplest of all that can predict the capacity fade with 0.99 RMSE during the whole life. Hence, the data-driven ML models are validated with a static cycling profile where the NARX model once again shows the best performance scoring a very accurate 0.34 RMSE. Moreover, the constructed models are scrutinized and differentiated in terms of data requirement, model complexity, computational effort, applicability, etc., and the pros and cons are explained. 
It can be concluded from the discussions that no model is perfect; nevertheless, the best can be useful. The outcome of the evaluation in this work would help the research community to choose the most suitable lifetime modeling methodology according to the purpose. Hence, the best model methodology is aimed to flourish to achieve a chemistry-neutral approach following future research prospects.
All the developed lifetime models in this work can be used as an efficient tool for the investigated NMC cell However, the developed models could be further optimized to achieve the best possible results. Unfortunately, the models could not be verified against the static profile, which is a scope of improvement of the work. Also, the models’ adaptability to other types of battery technologies is a challenge. So, more optimization and validation by a quality dataset could be done in the future to further improve the model’s performance and robustness.